[2020-06-29 22:04:59] PLEASE DO NOT INTERRUPT
[2020-06-29 22:04:59] ============================================================================
[2020-06-29 22:04:59] Setting up environment....
[2020-06-29 22:04:59] PASSPORT_HOST=chris.gluuthree.org
[2020-06-29 22:04:59] PROVIDER_HOST=chris.gluutwo.org
[2020-06-29 22:04:59] CLIENT_HOST=chris.testingenv.org
[2020-06-29 22:04:59] API_CLIENT_ID=59376804-e84b-411a-9492-653d14e52c24
[2020-06-29 22:04:59] API_CLIENT_SECRET=Test123$
[2020-06-29 22:04:59] ============================================================================
[2020-06-29 22:04:59] Creating test user on chris.gluutwo.org...
[2020-06-29 22:05:01] User created with success via API...
[2020-06-29 22:05:01] ============================================================================
[2020-06-29 22:05:01] 
[2020-06-29 22:05:01] STARTING: PASSPORT-SAML-DEFAULT
[2020-06-29 22:05:01] 
[2020-06-29 22:05:01] ============================================================================
[2020-06-29 22:05:01] 
[2020-06-29 22:05:01] - Provider type: IDP
[2020-06-29 22:05:01] - Type: passport-saml
[2020-06-29 22:05:01] - Flow: default
[2020-06-29 22:05:01] - Passport Provider ID: saml-only-1
[2020-06-29 22:05:01] TODO: Creating Trust Relation on chris.gluutwo.org automatically
[2020-06-29 22:05:01] 
[2020-06-29 22:05:01] - User data:
[2020-06-29 22:05:01] USER_NAME: johndoe22
[2020-06-29 22:05:01] USER_PASSWORD: test123
[2020-06-29 22:05:01] USER_MAIL: johndoe22@test.ocom
[2020-06-29 22:05:01] USER_GIVEN: john
[2020-06-29 22:05:01] USER_SUR: doe
[2020-06-29 22:05:01] 
[2020-06-29 22:05:01] ----------------------------------------------------------------------------
[2020-06-29 22:05:01] RUNNING BLACKBOX BDT TESTS:
[2020-06-29 22:05:01] ----------------------------------------------------------------------------
[2020-06-29 22:05:01] 
[2020-06-29 22:05:02] Feature: accessing protected content # tests/behaver/features/protected-content.feature:1
[2020-06-29 22:05:06] 
[2020-06-29 22:05:06]   Scenario: Not authenticated user access protected content  # tests/behaver/features/protected-content.feature:3
[2020-06-29 22:05:06]     Given that user exists in provider                       # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:05:06] 
[2020-06-29 22:05:06]     When user tries to access protected content page         # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:05:11] 
[2020-06-29 22:05:11]     Then user should be redirected to login page             # tests/behaver/features/steps/protected-content.py:140
[2020-06-29 22:05:15] 
[2020-06-29 22:05:20] 
[2020-06-29 22:05:20]   Scenario: Authenticated user access protected content  # tests/behaver/features/protected-content.feature:9
[2020-06-29 22:05:20]     Given that user exists in provider                   # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:05:20] 
[2020-06-29 22:05:20]     And user is authenticated                            # tests/behaver/features/steps/protected-content.py:35
[2020-06-29 22:05:41] 
[2020-06-29 22:05:41]     When user tries to access protected content page     # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:05:46] 
[2020-06-29 22:05:46]     Then user should access protected content            # tests/behaver/features/steps/protected-content.py:161
[2020-06-29 22:05:46] 
[2020-06-29 22:05:47] 
[2020-06-29 22:05:47] 1 feature passed, 0 failed, 0 skipped
[2020-06-29 22:05:47] 2 scenarios passed, 0 failed, 0 skipped
[2020-06-29 22:05:47] 7 steps passed, 0 failed, 0 skipped, 0 undefined
[2020-06-29 22:05:47] Took 0m34.139s
[2020-06-29 22:05:47] 
[2020-06-29 22:05:47] ----------------------------------------------------------------------------
[2020-06-29 22:05:47] 
[2020-06-29 22:05:47] BLACKBOX BDT TESTS FINISHED FOR TEST CASE: PASSPORT-SAML-DEFAULT
[2020-06-29 22:05:47] ============================================================================
[2020-06-29 22:05:47] Deleting test users on chris.gluutwo.org...
[2020-06-29 22:05:48] User deleted from idp/oidc provider via API.
[2020-06-29 22:05:48] Creating test user on chris.gluutwo.org...
[2020-06-29 22:05:50] User created with success via API...
[2020-06-29 22:05:50] ============================================================================
[2020-06-29 22:05:50] 
[2020-06-29 22:05:50] STARTING: PASSPORT-SAML-DEFAULT-EMAILREQ
[2020-06-29 22:05:50] 
[2020-06-29 22:05:50] ============================================================================
[2020-06-29 22:05:50] 
[2020-06-29 22:05:50] - Provider type: IDP
[2020-06-29 22:05:50] - Type: passport-saml
[2020-06-29 22:05:50] - Flow: default emailreq
[2020-06-29 22:05:50] - Passport Provider ID: saml-emailreq
[2020-06-29 22:05:50] TODO: Creating Trust Relation on chris.gluutwo.org automatically
[2020-06-29 22:05:50] 
[2020-06-29 22:05:50] - User data:
[2020-06-29 22:05:50] USER_NAME: josephdoe
[2020-06-29 22:05:50] USER_PASSWORD: test123
[2020-06-29 22:05:50] USER_MAIL: jo-sef@test.com
[2020-06-29 22:05:50] USER_GIVEN: john
[2020-06-29 22:05:50] USER_SUR: doe
[2020-06-29 22:05:50] 
[2020-06-29 22:05:50] ----------------------------------------------------------------------------
[2020-06-29 22:05:50] RUNNING BLACKBOX BDT TESTS:
[2020-06-29 22:05:50] ----------------------------------------------------------------------------
[2020-06-29 22:05:50] 
[2020-06-29 22:05:51] Feature: accessing protected content # tests/behaver/features/protected-content.feature:1
[2020-06-29 22:05:55] 
[2020-06-29 22:05:55]   Scenario: Not authenticated user access protected content  # tests/behaver/features/protected-content.feature:3
[2020-06-29 22:05:55]     Given that user exists in provider                       # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:05:55] 
[2020-06-29 22:05:55]     When user tries to access protected content page         # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:06:00] 
[2020-06-29 22:06:00]     Then user should be redirected to login page             # tests/behaver/features/steps/protected-content.py:140
[2020-06-29 22:06:04] 
[2020-06-29 22:06:09] 
[2020-06-29 22:06:09]   Scenario: Authenticated user access protected content  # tests/behaver/features/protected-content.feature:9
[2020-06-29 22:06:09]     Given that user exists in provider                   # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:06:09] 
[2020-06-29 22:06:09]     And user is authenticated                            # tests/behaver/features/steps/protected-content.py:35
[2020-06-29 22:06:35] 
[2020-06-29 22:06:35]     When user tries to access protected content page     # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:06:39] 
[2020-06-29 22:06:39]     Then user should access protected content            # tests/behaver/features/steps/protected-content.py:161
[2020-06-29 22:06:40] 
[2020-06-29 22:06:41] 
[2020-06-29 22:06:41] 1 feature passed, 0 failed, 0 skipped
[2020-06-29 22:06:41] 2 scenarios passed, 0 failed, 0 skipped
[2020-06-29 22:06:41] 7 steps passed, 0 failed, 0 skipped, 0 undefined
[2020-06-29 22:06:41] Took 0m39.095s
[2020-06-29 22:06:41] 
[2020-06-29 22:06:41] ----------------------------------------------------------------------------
[2020-06-29 22:06:41] 
[2020-06-29 22:06:41] BLACKBOX BDT TESTS FINISHED FOR TEST CASE: PASSPORT-SAML-DEFAULT-EMAILREQ
[2020-06-29 22:06:41] ============================================================================
[2020-06-29 22:06:41] Deleting test users on chris.gluutwo.org...
[2020-06-29 22:06:42] User deleted from idp/oidc provider via API.
[2020-06-29 22:06:42] Creating test user on chris.gluutwo.org...
[2020-06-29 22:06:44] User created with success via API...
[2020-06-29 22:06:44] ============================================================================
[2020-06-29 22:06:44] 
[2020-06-29 22:06:44] STARTING: PASSPORT-SAML-DEFAULT-EMAILLINK
[2020-06-29 22:06:44] 
[2020-06-29 22:06:44] ============================================================================
[2020-06-29 22:06:44] 
[2020-06-29 22:06:44] - Provider type: IDP
[2020-06-29 22:06:44] - Type: passport-saml
[2020-06-29 22:06:44] - Flow: default emaillink
[2020-06-29 22:06:44] - Passport Provider ID: saml-emaillink
[2020-06-29 22:06:44] TODO: Creating Trust Relation on chris.gluutwo.org automatically
[2020-06-29 22:06:44] 
[2020-06-29 22:06:44] - User data:
[2020-06-29 22:06:44] USER_NAME: josephdoe2
[2020-06-29 22:06:44] USER_PASSWORD: test123
[2020-06-29 22:06:44] USER_MAIL: jo-sef@test.com
[2020-06-29 22:06:44] USER_GIVEN: john
[2020-06-29 22:06:44] USER_SUR: doe
[2020-06-29 22:06:44] 
[2020-06-29 22:06:44] ----------------------------------------------------------------------------
[2020-06-29 22:06:44] RUNNING BLACKBOX BDT TESTS:
[2020-06-29 22:06:44] ----------------------------------------------------------------------------
[2020-06-29 22:06:44] 
[2020-06-29 22:06:45] Feature: accessing protected content # tests/behaver/features/protected-content.feature:1
[2020-06-29 22:06:49] 
[2020-06-29 22:06:49]   Scenario: Not authenticated user access protected content  # tests/behaver/features/protected-content.feature:3
[2020-06-29 22:06:49]     Given that user exists in provider                       # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:06:49] 
[2020-06-29 22:06:49]     When user tries to access protected content page         # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:06:53] 
[2020-06-29 22:06:53]     Then user should be redirected to login page             # tests/behaver/features/steps/protected-content.py:140
[2020-06-29 22:06:57] 
[2020-06-29 22:07:07] 
[2020-06-29 22:07:07]   Scenario: Authenticated user access protected content  # tests/behaver/features/protected-content.feature:9
[2020-06-29 22:07:07]     Given that user exists in provider                   # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:07:07] 
[2020-06-29 22:07:07]     And user is authenticated                            # tests/behaver/features/steps/protected-content.py:35
[2020-06-29 22:07:28] 
[2020-06-29 22:07:28]     When user tries to access protected content page     # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:07:32] 
[2020-06-29 22:07:32]     Then user should access protected content            # tests/behaver/features/steps/protected-content.py:161
[2020-06-29 22:07:32] 
[2020-06-29 22:07:34] 
[2020-06-29 22:07:34] 1 feature passed, 0 failed, 0 skipped
[2020-06-29 22:07:34] 2 scenarios passed, 0 failed, 0 skipped
[2020-06-29 22:07:34] 7 steps passed, 0 failed, 0 skipped, 0 undefined
[2020-06-29 22:07:34] Took 0m33.850s
[2020-06-29 22:07:35] Feature: e-mail linking # tests/behaver/features/email-linking.feature:1
[2020-06-29 22:07:35]   Me as a gluu customer
[2020-06-29 22:07:35]   Want to have users authentication methods linked by email
[2020-06-29 22:07:38]   To keep my information organized
[2020-06-29 22:07:38]   Scenario: Linking e-mail after first authentication on second provider  # tests/behaver/features/email-linking.feature:7
[2020-06-29 22:07:38]     Given user already authenticated with another provider                # tests/behaver/features/steps/email-linking.py:1
[2020-06-29 22:07:38] 
[2020-06-29 22:07:38]       Traceback (most recent call last):
[2020-06-29 22:07:38]         File "/root/dev/gluu-inbound-testing/venv/lib/python3.6/site-packages/behave/model.py", line 1329, in run
[2020-06-29 22:07:38]           match.run(runner.context)
[2020-06-29 22:07:38]         File "/root/dev/gluu-inbound-testing/venv/lib/python3.6/site-packages/behave/matchers.py", line 98, in run
[2020-06-29 22:07:38]           self.func(context, *args, **kwargs)
[2020-06-29 22:07:38]         File "tests/behaver/features/steps/email-linking.py", line 3, in check_if_there_is_any_authentication_method_for_user
[2020-06-29 22:07:38]           raise NotImplementedError(u'STEP: Given user already authenticated with another provider')
[2020-06-29 22:07:38]       NotImplementedError: STEP: Given user already authenticated with another provider
[2020-06-29 22:07:38] 
[2020-06-29 22:07:39]     And user has email attribute                                          # None
[2020-06-29 22:07:39]     When user authenticates                                               # None
[2020-06-29 22:07:39]     Then user profile should have both authentication methods             # None
[2020-06-29 22:07:39] 
[2020-06-29 22:07:39] 
[2020-06-29 22:07:39] Failing scenarios:
[2020-06-29 22:07:39]   tests/behaver/features/email-linking.feature:7  Linking e-mail after first authentication on second provider
[2020-06-29 22:07:39] 
[2020-06-29 22:07:39] 0 features passed, 1 failed, 0 skipped
[2020-06-29 22:07:39] 0 scenarios passed, 1 failed, 0 skipped
[2020-06-29 22:07:39] 0 steps passed, 1 failed, 3 skipped, 0 undefined
[2020-06-29 22:07:39] Took 0m0.000s
[2020-06-29 22:07:39] 
[2020-06-29 22:07:39] ----------------------------------------------------------------------------
[2020-06-29 22:07:39] 
[2020-06-29 22:07:39] BLACKBOX BDT TESTS FINISHED FOR TEST CASE: PASSPORT-SAML-DEFAULT-EMAILLINK
[2020-06-29 22:07:39] ============================================================================
[2020-06-29 22:07:39] Deleting test users on chris.gluutwo.org...
[2020-06-29 22:07:40] User deleted from idp/oidc provider via API.
[2020-06-29 22:07:40] Creating test user on chris.gluutwo.org...
[2020-06-29 22:07:42] User created with success via API...
[2020-06-29 22:07:42] Setting up test client with pre-selected provider...
[2020-06-29 22:07:42] {
[2020-06-29 22:07:42]   "provider_id": "saml-emaillink"
[2020-06-29 22:07:42] }
[2020-06-29 22:07:42] ============================================================================
[2020-06-29 22:07:42] 
[2020-06-29 22:07:42] STARTING: PASSPORT-SAML-DEFAULT-PRESELECTEDPROVIDER
[2020-06-29 22:07:42] 
[2020-06-29 22:07:42] ============================================================================
[2020-06-29 22:07:42] 
[2020-06-29 22:07:42] - Provider type: IDP
[2020-06-29 22:07:42] - Type: passport-saml
[2020-06-29 22:07:42] - Flow: preselected provider
[2020-06-29 22:07:42] - Passport Provider ID: saml-emaillink
[2020-06-29 22:07:42] TODO: Creating Trust Relation on chris.gluutwo.org automatically
[2020-06-29 22:07:42] 
[2020-06-29 22:07:42] - User data:
[2020-06-29 22:07:42] USER_NAME: josephdoe2
[2020-06-29 22:07:42] USER_PASSWORD: test123
[2020-06-29 22:07:42] USER_MAIL: jo-sef@test.com
[2020-06-29 22:07:42] USER_GIVEN: john
[2020-06-29 22:07:42] USER_SUR: doe
[2020-06-29 22:07:42] 
[2020-06-29 22:07:42] ----------------------------------------------------------------------------
[2020-06-29 22:07:42] RUNNING BLACKBOX BDT TESTS:
[2020-06-29 22:07:42] ----------------------------------------------------------------------------
[2020-06-29 22:07:42] 
[2020-06-29 22:07:43] Feature: accessing protected content # tests/behaver/features/protected-content.feature:1
[2020-06-29 22:07:47] 
[2020-06-29 22:07:47]   Scenario: Not authenticated user access protected content  # tests/behaver/features/protected-content.feature:3
[2020-06-29 22:07:47]     Given that user exists in provider                       # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:07:47] 
[2020-06-29 22:07:47]     When user tries to access protected content page         # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:07:51] 
[2020-06-29 22:07:51]     Then user should be redirected to login page             # tests/behaver/features/steps/protected-content.py:140
[2020-06-29 22:07:57] 
[2020-06-29 22:08:03] 
[2020-06-29 22:08:03]   Scenario: Authenticated user access protected content  # tests/behaver/features/protected-content.feature:9
[2020-06-29 22:08:03]     Given that user exists in provider                   # tests/behaver/features/steps/protected-content.py:30
[2020-06-29 22:08:03] 
[2020-06-29 22:08:03]     And user is authenticated                            # tests/behaver/features/steps/protected-content.py:35
[2020-06-29 22:08:23] 
[2020-06-29 22:08:23]     When user tries to access protected content page     # tests/behaver/features/steps/protected-content.py:131
[2020-06-29 22:08:27] 
[2020-06-29 22:08:27]     Then user should access protected content            # tests/behaver/features/steps/protected-content.py:161
[2020-06-29 22:08:27] 
[2020-06-29 22:08:33] 
[2020-06-29 22:08:33] 1 feature passed, 0 failed, 0 skipped
[2020-06-29 22:08:33] 2 scenarios passed, 0 failed, 0 skipped
[2020-06-29 22:08:33] 7 steps passed, 0 failed, 0 skipped, 0 undefined
[2020-06-29 22:08:33] Took 0m34.819s
[2020-06-29 22:08:33] 
[2020-06-29 22:08:33] ----------------------------------------------------------------------------
[2020-06-29 22:08:33] 
[2020-06-29 22:08:33] BLACKBOX BDT TESTS FINISHED FOR TEST CASE: PASSPORT-SAML-DEFAULT-PRESELECTEDPROVIDER
[2020-06-29 22:08:33] ============================================================================
[2020-06-29 22:08:33] Deleting test users on chris.gluutwo.org...
[2020-06-29 22:08:33] User deleted from idp/oidc provider via API.
[2020-06-29 22:08:33] ALL TEST FINISHED.
[2020-06-29 22:08:33] =====================================================================
